<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>聲音辨識網站</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<style>
	body 
	#myBtn {
  display: none;
  position: fixed;
  bottom: 20px;
  right: 30px;
  z-index: 88;
  font-size: 18px;
  border: none;
  outline: none;
  background-color: black;
  color: white;
  cursor: pointer;
  padding: 15px;
  border-radius: 4px;}

#myBtn:hover {
  background-color: lightgreen;}
		*{box-sizing: border-box;}{
	background-color: aqua;}
	.imgs {
		margin: 30px auto;}
	.text {
		font-size: 20px;}
	}
	.bgColor {
		color: #fff;
		background-color: #00ffee;}

</style>
<body>
	<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
<div class="w3-bar w3-black">
    <a href="ex.html" class="w3-bar-item w3-button">最新消息</a>
    <a href="ex_success.html" class="w3-bar-item w3-button">得病起因与治疗的方法</a>
    <div class="w3-dropdown-hover">
      <button class="w3-button">健康饮食的對象：</button>
      <div class="w3-dropdown-content w3-bar-block w3-card-4">
        <a href="ex_teenager.html" class="w3-bar-item w3-button">小孩和青少年</a>
        <a href="ex_adult.html" class="w3-bar-item w3-button">成年人和老人</a>
      </div>
    </div>
  </div>
</div>


<div>Teachable Machine Audio Model</div>
<button type="button" onclick="init()">Start</button>
<div id="label-container"></div>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/speech-commands@0.4.0/dist/speech-commands.min.js"></script>

<script type="text/javascript">
    // more documentation available at
    // https://github.com/tensorflow/tfjs-models/tree/master/speech-commands

    // the link to your model provided by Teachable Machine export panel
    const URL = "https://teachablemachine.withgoogle.com/models/10fISjDQj/";

    async function createModel() {
        const checkpointURL = URL + "model.json"; // model topology
        const metadataURL = URL + "metadata.json"; // model metadata

        const recognizer = speechCommands.create(
            "BROWSER_FFT", // fourier transform type, not useful to change
            undefined, // speech commands vocabulary feature, not useful for your models
            checkpointURL,
            metadataURL);

        // check that model and metadata are loaded via HTTPS requests.
        await recognizer.ensureModelLoaded();

        return recognizer;
    }

    async function init() {
        const recognizer = await createModel();
        const classLabels = recognizer.wordLabels(); // get class labels
        const labelContainer = document.getElementById("label-container");
        for (let i = 0; i < classLabels.length; i++) {
            labelContainer.appendChild(document.createElement("div"));
        }

        // listen() takes two arguments:
        // 1. A callback function that is invoked anytime a word is recognized.
        // 2. A configuration object with adjustable fields
        recognizer.listen(result => {
            const scores = result.scores; // probability of prediction for each class
            // render the probability scores per class
            for (let i = 0; i < classLabels.length; i++) {
                const classPrediction = classLabels[i] + ": " + result.scores[i].toFixed(2);
                labelContainer.childNodes[i].innerHTML = classPrediction;
            }
        }, {
            includeSpectrogram: true, // in case listen should return result.spectrogram
            probabilityThreshold: 0.75,
            invokeCallbackOnNoiseAndUnknown: true,
            overlapFactor: 0.50 // probably want between 0.5 and 0.75. More info in README
        });

        //Stop the recognition in 5 seconds.
        setTimeout(() => recognizer.stopListening(), 5000);
    }
</script>





<script>
var myIndex = 0;
carousel();

function carousel() {
  var i;
  var x = document.getElementsByClassName("mySlides");
  for (i = 0; i < x.length; i++) {
    x[i].style.display = "none";  
  }
  myIndex++;
  if (myIndex > x.length) {myIndex = 1}    
  x[myIndex-1].style.display = "block";  
  setTimeout(carousel, 2000); // Change image every 2 seconds
}
</script>

<body>

<form action="/action_page.php" class="w3-container w3-card-4 w3-orange w3-text-blue w3-margin">
<h2 class="w3-center w3-text-black">​与我们联络</h2>
 
<div class="w3-row w3-section">
  <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-user"></i></div>
        <div class="w3-rest">
      <p><input class="w3-input w3-hover-aqua" name="first" type="text" placeholder="First Name"required></p>
    </div>
</div>

<div class="w3-row w3-section">
  <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-user"></i></div>
    <div class="w3-rest">
      <p><input class="w3-input w3-hover-aqua" name="last" type="text" placeholder="Last Name" required=""></p>
    </div>
</div>

<div class="w3-row w3-section">
  <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-envelope"></i></div>
    <div class="w3-rest">
      <p><input class="w3-input w3-hover-aqua" name="email" type="text" placeholder="Email"required></p>
      </div>
</div>

<div class="w3-row w3-section">
  <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-phone"></i></div>
    <div class="w3-rest">
      <p><input class="w3-input w3-hover-aqua" name="phone" type="text" placeholder="Phone Number"required><p>
    </div>
</div>

<div class="w3-row w3-section">
  <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-pencil"></i></div>
    <div class="w3-rest">
      <p><input class="w3-input w3-hover-aqua" name="message" type="text" placeholder="Message"required>
    </div>
</div>

<button class="w3-button w3-block w3-section w3-blue w3-ripple w3-padding">Send</button>

</form>

<article class="column Contact">
	<p>Google Maps</p>
	<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3609.284448506795!2d121.4488504148854!3d25.22734263666792!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3442b08117033f91%3A0xbae376e62bc34435!2z6IGW57SE57-w56eR5oqA5aSn5a24!5e0!3m2!1szh-TW!2stw!4v1590559594817!5m2!1szh-TW!2stw" width="600" height="450" frameborder="0" style="border:0;" allowfullscreen="" aria-hidden="false" tabindex="0"></iframe>
	</article>

<script>
//Get the button
var mybutton = document.getElementById("myBtn");

// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}
// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}
</script>
</body>
</body>
</html>